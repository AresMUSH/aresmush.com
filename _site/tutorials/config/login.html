<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Article" lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="twitter:card" content="summary">

<!-- Schema.org markup for Google+ -->
<!-- Twitter Card data -->
<!-- Open Graph data -->

    <meta name="google-site-verification" content="GK5cKdKe-CQEFsGx1pPxHFhflO88ddWG8NdWk_KDabA" />
    
    <title>Configuring the Login System - </title>
    <meta property="og:title" content="Configuring the Login System - ">
    <meta name="twitter:title" content="Configuring the Login System - ">
    <meta itemprop="name" content="Configuring the Login System - ">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="">
    <meta property="og:site_name" content="Configuring the Login System" >
    <meta property="og:url" content="/tutorials/config/login.html" >
    
  
    <meta name="description" content=" ...">
    <meta property="og:description" content=" ..." >
    <meta name="twitter:description" content=" ...">  
    <meta itemprop="description" content=" ...">
  
    
  
    <meta property="og:image" content="/default_preview.png">
    <meta name="twitter:image" content="/default_preview.png">
    <meta itemprop="image" content="/default_preview.png">
  
  
  <meta name="twitter:site" content="@lynnnoton">
  <meta name="twitter:creator" content="@lynnnoton">

  
    <!-- 
    
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    
    <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>

    
    -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="https://use.fontawesome.com/ee2438614b.js"></script>
       
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?autoload=true&amp;skin=sunburst&amp;lang=css" defer="defer"></script>


    <script>
        (function() {
          var cx = '006109472892303620439:hmwpm8s4lvi';
          var gcse = document.createElement('script');
          gcse.type = 'text/javascript';
          gcse.async = true;
          gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(gcse, s);
        })();
    </script>
      
    <script src="/scripts/default.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch.min.css">
    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch-theme-algolia.min.css">


    <link rel="stylesheet" type="text/css" href="/css/style.css"></link>
    <link rel="stylesheet" type="text/css" href="/css/tables.css"></link>
    <link rel="stylesheet" type="text/css" href="/css/prettify.css"></link>
    
    
      <link rel="shortcut icon" href="/images/favicon.ico">
      <link rel="apple-touch-icon" href="/images/touchicon_57.png">
      <link rel="apple-touch-icon" sizes="72x72" href="/images/touchicon_62.png">
      <link rel="apple-touch-icon" sizes="114x114" href="/images/touchicon_114.png">
      
      
  </head>

  <body>

      <a name="top"></a>     
         
         
                               
                      <div class="titlebox">
                                                    
                         <div class="blogtitle">
                          
                              <a href="">AresMUSH</a> 
                              
                          </div>
                          
                          <div class="tagline">
                                A New Breed of MUSH Server            
                            </div>
                            
                            </div>
                             
                      
                            <nav class="navbar navbar-dark">
 
    <ul class="nav navbar-nav">
      <li class="active">
        <a href="/">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Features <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="/features/">Why Ares?</a></li>
          <li><a href="/features/ares-for-players.html">Ares for Players</a></li>
          <li><a href="/features/ares-for-admins.html">Ares for Admins</a></li>
          <li><a href="/features/ares-for-coders.html">Ares for Coders</a></li>
          <li><hr/></li>
          <li><a href="/web-portal">The Web Portal</a></li>
          <li><a href="/features/skills.html">Skills Systems</a></li>
          <li><a href="/handles">Player Handles</a></li>
          <li><a href="/features/server-roundup.html">Server Comparison</a></li>
        </ul>
      </li>  
      
      <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Tutorials <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="/mush-101">MUSH 101</a></li>
          <li><a href="/tutorials/play">Playing Ares</a></li>
          <li><a href="/tutorials/install">Installing Ares</a></li>
          <li><a href="/tutorials/config">Configuring Ares</a></li>
          <li><a href="/tutorials/manage">Managing Ares</a></li>
          <li><a href="/tutorials/code">Coding for Ares</a></li>
        </ul>
      </li>    
      
      <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">FS3 <span class="caret"></span></a>

        <ul class="dropdown-menu">
          <li><a href="/fs3/">FS3 Home</a></li>
          <li><a href="/fs3/fs3-3/">Player's Guide</a></li>
          <li><a href="/fs3/fs3-3/roll-quickref.html">Skills Quick Reference</a></li>
          <li><a href="/fs3/fs3-3/combat-quickref.html">Combat Quick Reference</a></li>
          <li><a href="/fs3/fs3-3/combat-walkthrough.html">Interactive Combat Walkthrough</a></li>
          <li><a href="/fs3/old-editions.html">Prior Edition Guides</a></li>
        </ul>
      </li>
      
      <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Code <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="/code/">Source Code</a></li>
          <li><a href="/tutorials/code">Learn to Code</a></li>
          <li><a href="https://github.com/AresMUSH/aresmush/releases">Release Notes <i class="fa fa-external-link" aria-hidden="true"></i></a></li>
        </ul>
      </li>
      
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Community <span class="caret"></span></a>
        
        <ul class="dropdown-menu">
          <li><a href="http://arescentral.aresmush.com">AresCentral Directory <i class="fa fa-external-link" aria-hidden="true"></i></a></li>
          <li><a href="http://forum.aresmush.com">Discussion Forum <i class="fa fa-external-link" aria-hidden="true"></i></a></li>
          <li><a href="http://logcleaner.aresmush.com/">RP Log Cleaner <i class="fa fa-external-link" aria-hidden="true"></i></a></li>
        </ul>
      </li>

      <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">About <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="/feedback.html">Contact Us</a>
          <li><a href="/license.html">License</a>
          <li><a href="/privacy.html">Privacy Policy</a>
        </ul>
      </li>

    </ul>
</nav>

                      
                        
         
         <div class="page-block">
         
                           <div class="row">
                         
                         
    <div class="col col-sm-9">   

<h1>Configuring the Login System</h1>

    <div class="tags-box">
                 <ul class="tags-box">
                 
                 <li>[config]</li>
                 
                 </ul>
    </div>
                               
             <div class="page">
                 <p>There are several things you can configure about character logins.</p>

<div id="inline_toc">
  <p><strong>Table of Contents</strong></p>

<ul id="markdown-toc">
  <li><a href="#connect-screen" id="markdown-toc-connect-screen">Connect Screen</a></li>
  <li><a href="#terms-of-service" id="markdown-toc-terms-of-service">Terms of Service</a></li>
  <li><a href="#other-configuration" id="markdown-toc-other-configuration">Other Configuration</a>    <ul>
      <li><a href="#disabling-creating-new-characters" id="markdown-toc-disabling-creating-new-characters">Disabling Creating New Characters</a></li>
      <li><a href="#allow_web_registration" id="markdown-toc-allow_web_registration">allow_web_registration</a></li>
      <li><a href="#portal_requires_registration" id="markdown-toc-portal_requires_registration">portal_requires_registration</a></li>
      <li><a href="#disabling-logins" id="markdown-toc-disabling-logins">Disabling Logins</a></li>
      <li><a href="#disabling-guests" id="markdown-toc-disabling-guests">Disabling Guests</a></li>
      <li><a href="#use_terms_of_service" id="markdown-toc-use_terms_of_service">use_terms_of_service</a></li>
      <li><a href="#activity_cron" id="markdown-toc-activity_cron">activity_cron</a></li>
      <li><a href="#blacklist_cron" id="markdown-toc-blacklist_cron">blacklist_cron</a></li>
    </ul>
  </li>
</ul>

</div>

<h2 id="connect-screen">Connect Screen</h2>

<p>To configure the Connect Screen:</p>

<ol>
  <li>Go to the Web Portal’s Admin screen.</li>
  <li>Select ‘Connect Screen’.</li>
</ol>

<p>The connect screen can contain all the usual MUSH formatting codes (including color!), but you don’t need to put in %r for linebreaks or %b for spaces.  The game will respect what’s in the file as it appears.</p>

<h2 id="terms-of-service">Terms of Service</h2>

<p>By default, the game will present a Terms of Service file to new users.  You can disable this by setting <code class="language-ruby highlighter-rouge"><span class="n">use_terms_of_service</span></code>, as explained below.</p>

<div class="alert alert-success">
<p><i class="fa fa-info-circle"></i> <b>Tip</b></p>
<p>If your TOS is long, it's recommended that you just link to a wiki/web page rather than spamming new players with a giant wall of text.</p>
</div>

<p>To configure the Terms of Service:</p>

<ol>
  <li>Go to the Web Portal’s Admin screen.</li>
  <li>Select ‘Terms of Service’.</li>
</ol>

<p>The TOS can contain all the usual MUSH formatting codes, but you don’t need to put in %r for linebreaks.  The game will respect what’s in the file.</p>

<div class="alert alert-success">
<p><i class="fa fa-info-circle"></i> <b>Tip</b></p>
<p>If you ever make important changes to the terms of service, you probably want to force existing characters to read them again.  To do this, use the  <code>tos/reset</code>  command in-game.  Everyone will be forced to acknowledge the new terms of service the next time they log in.</p>
</div>

<h2 id="other-configuration">Other Configuration</h2>

<p>To configure the rest of the Login plugin:</p>

<ol>
  <li>Select Admin -&gt; Setup.</li>
  <li>Edit <code class="language-ruby highlighter-rouge"><span class="n">login</span><span class="p">.</span><span class="nf">yml</span></code></li>
</ol>

<h3 id="disabling-creating-new-characters">Disabling Creating New Characters</h3>

<p>The default behavior allows players to create their characters right from the login screen.  You might want to disable this if you have a roster-only game or require email registration or an invitation.</p>

<div class="alert alert-info">
<p><i class="fa fa-exclamation-triangle"></i> <b>Note</b></p>
<p>Allowing creation from the web portal is a different setting, `allow_web_registration`, described below.</p>
</div>

<p>To disable character creation from the login screen:</p>

<ul>
  <li>Set <code class="language-ruby highlighter-rouge"><span class="n">allow_creation</span></code> to false.</li>
  <li>Optionally set a message about your game’s registration policy in <code class="language-ruby highlighter-rouge"><span class="n">creation_not_allowed_message</span></code>.  If no message is set, players will just see a generic message.</li>
</ul>

<h3 id="allow_web_registration">allow_web_registration</h3>

<p>By default, players can create characters from the Web Portal.  If you wish to lock this down, you can set <code class="language-ruby highlighter-rouge"><span class="n">allow_web_registration</span></code> to <code class="language-ruby highlighter-rouge"><span class="kp">false</span></code>.   If you allow web registration, be sure to configure Recapta to prevent bots, as explained below.</p>

<h3 id="portal_requires_registration">portal_requires_registration</h3>

<p>Set this to <code class="language-ruby highlighter-rouge"><span class="kp">true</span></code> if you want to require people to log in before they can access the Web Portal at all.  Often coupled with <code class="language-ruby highlighter-rouge"><span class="n">allow_web_registration</span></code> to require people to create a character from the game itself instead of registering on the Web Portal.</p>

<h3 id="disabling-logins">Disabling Logins</h3>

<p>During development, maintenance, or other special times, you might want to disable player logins.  You can do this by controlling which roles have the ‘login’ permission.  By default, this permission is assigned to the ‘everyone’ role, meaning all characters can log in.</p>

<ul>
  <li>Use the <a href="/tutorials/manage/roles.html">Roles System</a> to remove the ‘login’ permission from the ‘everyone’ role.  Add it to any non-admin roles that you want to give login access to (e.g. builder).  Admins can log in even without the explicit permission.</li>
  <li>Optionally set a message about why people can’t log in using <code class="language-ruby highlighter-rouge"><span class="n">login_not_allowed_message</span></code>.</li>
</ul>

<h3 id="disabling-guests">Disabling Guests</h3>

<p>The system looks for characters with the role set in <code class="language-ruby highlighter-rouge"><span class="n">guest_role</span></code> when finding a guest character.  If you don’t want to allow guests, set that role to blank.  You can also optionally set <code class="language-ruby highlighter-rouge"><span class="n">guest_disabled_message</span></code> to explain why guests are disabled.</p>

<h3 id="use_terms_of_service">use_terms_of_service</h3>

<p>You can disable the terms of service completely by setting <code class="language-ruby highlighter-rouge"><span class="n">use_terms_of_service</span></code> to false.</p>

<h3 id="activity_cron">activity_cron</h3>

<p>This cron job controls when the login activity tracker is updated.  By default it’s hourly.  You shouldn’t change this.</p>

<h3 id="blacklist_cron">blacklist_cron</h3>

<p>This cron job controls how often the site blacklist is updated.  By default it’s bi-monthly.  You shouldn’t need to change this.</p>

             </div>             
                           </div>
              
                           <div class="col col-sm-3">
                                                 <div class="sidebar">   
                 
<div id="search-box">
  <!-- SearchBox widget will appear here -->
</div>
                  
<div class="sidebar-title">See AresMUSH In Action</div>

<p>Visit the Ares <a href="http://mush.aresmush.com">Demo Game</a>.</p>

<p>Find other Ares games at <a href="http://arescentral.aresmush.com">AresCentral</a>.</p>


<div class="sidebar-title">Follow Us on Facebook</div>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=1423276681271936";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-page" data-href="https://www.facebook.com/aresmush/" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="false"><div class="fb-xfbml-parse-ignore"><blockquote cite="https://www.facebook.com/aresmush/"><a href="https://www.facebook.com/aresmush/">Ares Mush</a></blockquote></div></div>

<div class="sidebar-title">Discuss Ares</div>

Have a question?  Want to talk about AresMUSH (or MU*s in general)?  Visit our <a href="http://forum.aresmush.com">Discussion Forum</a>.
                  
                  

                  <div class="sidebar-title">Stay Up to Date</div>
                          
                          Get important updates about Ares on <a href="https://www.facebook.com/aresmush/">Facebook</a> or the <a href="http://forum.aresmush.com">Discussion Forum</a>.

              <div id="searchModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Search Results</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
       

       <div id="search-hits">
         <!-- Hits widget will appear here -->
       </div>


       <div id="search-pagination">
         <!-- Pagination widget will appear here -->
       </div>
       
       
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>


<script src="/scripts/search.js"></script>
<script>
  initializeSearch( 'NI38C577BA',
    '29793fd9084a3446072c14e471e32589',
    'aresmush.com',
    ' ' );
</script>

                  

                  
                
                  
                           </div>
</div>
                          
              </div>
              
          </div>
          

          <div class="footer">
             <p> &copy;  2013 with help from the <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a> blog engine.
              </p>
          </div>
          
      
     
  </body>
</html>
